        /* Grille responsive pour albums */
        .album-grid {
        display: grid;
        /* Changement ici : auto-fit pour que les colonnes s'étirent et occupent tout l'espace */
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 25px;
        /* AJOUTS ICI : margin auto pour centrer la grille horizontalement */
        margin: 30px auto 60px auto;
        max-width: 1200px; /* Ajout d'une max-width pour que margin: auto fonctionne bien */
        }
        /* Style global des cartes (albums) */
        .album-card {
        height: 150px;
        border-radius: 15px;
        background: #e9f0ff; /* Couleur de fond par défaut pour les cartes sans image */
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.2rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
        text-align: center;
        padding: 10px;
        color: #2d2d2d;
        position: relative; /* Important pour les icônes */
        /* Assurez-vous que le background-image ne se répète pas par défaut */
        background-repeat: no-repeat;
        }

        /* ************************************************* */
        /* NOUVEAU STYLE CARTE MOSAÏQUE (Voir toutes les photos/favoris) */
        /* ************************************************* */
        .album-card.see-all-card {
        background: none; /* Supprimer la couleur de fond */
        padding: 0; /* Important: enlever le padding pour que la grille interne utilise tout l'espace */
        display: block; /* Rétablir l'affichage normal pour contenir la grille interne */
        overflow: hidden; /* Masque les coins de la grille interne */
        position: relative;
        }

        .mosaic-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr); /* Grille 2x2 */
        grid-template-rows: repeat(2, 1fr);
        height: 100%;
        width: 100%;
        }

        .mosaic-item {
        background-size: cover;
        background-position: center;
        }

        .album-card.see-all-card .see-all-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        /* Style du texte */
        font-size: 1.1rem;
        font-weight: 700;
        padding: 5px 10px;
        border-radius: 5px;
        background: rgba(255, 255, 255, 0.9); /* Fond blanc semi-transparent */
        color: #6c63ff; /* Couleur du lien */
        box-shadow: 0 0 5px rgba(0,0,0,0.3);
        transition: all 0.2s ease;
        }

        /* Effet de survol: assombrir la mosaïque */
        .album-card.see-all-card:hover .mosaic-item {
        opacity: 0.8;
        }

        .album-card.see-all-card:hover .see-all-text {
        transform: translate(-50%, -50%) scale(1.05);
        }

        /* Styles spécifiques aux cartes ayant une image de fond (pour l'effet de survol) */
        .album-card.image-bg:hover {
        /* Assombrissement au survol pour les cartes avec image */
        background-color: rgba(0, 0, 0, 0.2) !important;
        background-blend-mode: overlay; /* Mélange la couleur de survol avec l'image */
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        }

        /* Style de survol pour les cartes sans image */
        .album-card:not(.image-bg):hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        background: #cbdcff; /* Slightly darker blue on hover */
        }

        /* Actions - Crayon et Corbeille */
        .album-card .actions {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        }

        .icon {
        width: 20px;
        height: 20px;
        cursor: pointer;
        transition: transform 0.3s ease;
        filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .icon:hover {
        transform: scale(1.3); /* Légère animation au survol */
        }

        /* Bouton Edit */
        .edit-btn {
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        }

        /* Bouton Delete */
        .delete-btn {
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        }

        /* Carte Ajouter un album */
        .add-card {
        background: #ffffff !important;
        border: 3px dashed #6c63ff;
        color: #6c63ff;
        }

        .add-card .plus {
        font-size: 3rem;
        font-weight: bold;
        }

        .add-card:hover {
        background: #6c63ff !important;
        color: white !important;
        border-color: transparent;
        }

        /* Carte 'Voir toutes les photos' (Ancien style simple) */
        .see-all-card {
        /* On conserve la couleur de base pour le fond si la mosaïque ne charge pas, mais la mosaïque override le fond */
        background: #d4e0ff;
        }

        .see-all-card:hover {
        /* On retire l'ancien hover pour éviter un conflit */
        }

        /* Separator */
        .section-separator {
        margin: 60px auto;
        width: 60%;
        border: 0;
        border-top: 2px solid #d0d0d0;
        }

        /* --- Drawer Overlay --- */
        .drawer-overlay {
        position: fixed;
        top: 0;
        right: 0;
        width: 0;
        height: 100%;
        background: rgba(0,0,0,0.35);
        backdrop-filter: blur(3px);
        overflow: hidden;
        transition: width 0.3s ease;
        z-index: 2000;
        }

        /* --- Drawer Panel --- */
        .drawer-panel {
        position: absolute;
        top: 0;
        right: -400px;
        width: 400px;
        height: 100%;
        background: #ffffff;
        box-shadow: -3px 0 10px rgba(0,0,0,0.2);
        padding: 25px;
        border-radius: 25px 0 0 25px;
        transition: right 0.3s ease;
        }

        /* --- Formulaire --- */
        .album-form {
        display: flex;
        flex-direction: column;
        gap: 15px;
        }

        .album-form input,
        .album-form select,
        .album-form textarea {
        width: 100%;
        padding: 10px;
        border-radius: 10px;
        border: 1px solid #c7c7c7;
        font-size: 1rem;
        }

        /* Boutons */
        .drawer-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
        }

        .btn-cancel {
        padding: 10px 20px;
        border-radius: 10px;
        background: #cccccc;
        border: none;
        font-size: 1rem;
        }

        .btn-confirm {
        padding: 10px 20px;
        border-radius: 10px;
        background: #6c63ff;
        color: white;
        border: none;
        font-size: 1rem;
        }

        .btn-cancel:hover {
        background: #b6b6b6;
        }

        .btn-confirm:hover {
        background: #5a56e0;
        }

        /* Animation drawer actif */
        .drawer-open {
        width: 100%;
        }

        .drawer-open .drawer-panel {
        right: 0;
        }

        .no-scroll {
        overflow: hidden;
        height: 100vh;
        }

        /* --- Modal de confirmation delete --- */
        .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 3000;
        display: none;
        justify-content: center;
        align-items: center;
        }

        .modal-open {
        display: flex;
        }

        .modal-panel {
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        text-align: center;
        width: 450px;
        }

        .modal-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
        }
        /* NOUVEAUX STYLES POUR LA MODALE (LIGHTBOX) */
        .modal-open-body {
        overflow: hidden;
        }

        .photo-viewer-modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.9);
        justify-content: center;
        align-items: center;
        }

        .viewer-content {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        max-width: 90%;
        /* Hauteur pour que la modale tienne l'image ET les détails */
        max-height: 90vh;
        }

        /* Conteneur Master pour forcer l'alignement vertical Image + Détails */
        .image-details-master-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        max-width: 80vw;
        max-height: 90vh;
        position: relative;
        }

        /* Conteneur de l'image seule */
        .photo-viewer-box {
        position: relative;
        /* Limite l'image sans bloquer l'espace pour les détails */
        max-height: 75vh;
        max-width: 100%;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        border-radius: 15px 15px 0 0; /* Arrondi seulement en haut */
        overflow: hidden;
        z-index: 601; /* Doit être au-dessus du bouton de détails replié */
        }

        .main-photo {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 0;
        }


        /* Boutons de Navigation (Flèches) */
        .nav-btn {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        padding: 16px;
        margin-top: -50px;
        color: white;
        font-weight: bold;
        font-size: 20px;
        transition: 0.6s ease;
        user-select: none;
        background-color: rgba(0,0,0,0.5);
        border: none;
        z-index: 1010;
        border-radius: 5px;
        }

        .nav-btn.right {
        right: -60px;
        }

        .nav-btn.left {
        left: -60px;
        }

        .nav-btn:hover:not(:disabled) {
        background-color: rgba(0,0,0,0.8);
        }

        .nav-btn:disabled {
        opacity: 0.3;
        cursor: default;
        }

        /* Bouton Détails - PAS DE POSITION ABSOLUE */
        .toggle-details-btn {
        width: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        /* Utilise le border-radius de l'image (photo-viewer-box) */
        border-radius: 0 0 15px 15px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1rem;
        transition: background-color 0.3s;
        /* Reste collé au bas de l'image */
        margin-top: 0;
        z-index: 600;
        }

        .toggle-details-btn:hover {
        background-color: rgba(0, 0, 0, 0.9);
        }

        .toggle-details-btn .arrow {
        margin-left: 10px;
        transition: transform 0.3s ease;
        }

        /* Panneau de Détails (Déroulant) */
        .detail-panel {
        width: 100%;
        max-height: 0; /* Caché par défaut */
        overflow: hidden;
        background-color: rgba(255, 255, 255, 0.98);
        color: #2d2d2d;
        padding: 0 20px;
        border-radius: 0 0 15px 15px;
        transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
        box-sizing: border-box;
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        z-index: 599;
        /* AJUSTEMENT CRUCIAL: Retire la marge négative quand fermé pour ne pas chevaucher */
        margin-top: 0;
        }

        .detail-panel.open {
        max-height: 200px;
        padding: 15px 20px;
        margin-top: 0;
        }

        /* On utilise l'inverse pour cibler l'icône de flèche:
        Quand le panneau est ouvert, le bouton (qui le précède dans le DOM corrigé) tourne la flèche.
        Le sélecteur CSS est donc :
        */
        #toggle-details-button.open .arrow {
        transform: rotate(180deg);
        }

        /* Styles internes aux détails */
        .detail-group {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
        }

        .detail-item {
        flex-basis: 48%;
        padding: 3px 0;
        font-size: 0.9rem;
        }


        /* Styles pour la barre de gestion existante */
        .management-zone {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        }

        .management-btn {
        padding: 8px 15px;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.2s;
        }

        .btn-primary {
        background-color: #6c63ff;
        color: white;
        border: none;
        }

        .btn-primary:hover {
        background-color: #5a56e0;
        }

        .btn-secondary {
        background-color: #ccc;
        color: #2d2d2d;
        border: 1px solid #c7c7c7;
        }

        .btn-secondary:hover {
        background-color: #bbb;
        }

        /* Barre d'actions multiples (quand Sélectionner est cliqué) */
        .selection-management-bar {
        display: flex;
        gap: 15px;
        align-items: center;
        }

        /* Bouton d'actions (3 points) */
        .dropdown {
        position: relative;
        display: inline-block;
        }

        .btn-action {
        background: #f0f0f0;
        color: #6c63ff;
        border: 1px solid #c7c7c7;
        font-size: 1.5rem;
        line-height: 1;
        padding: 4px 12px;
        }

        .btn-action:hover {
        background: #e0e0e0;
        }

        .dots {
        letter-spacing: -2px;
        font-weight: 900;
        display: block;
        transform: translateY(-2px);
        }

        /* Menu déroulant */
        .dropdown-content {
        display: none;
        position: absolute;
        right: 0;
        background-color: #ffffff;
        min-width: 200px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 100;
        border-radius: 8px;
        overflow: hidden;
        }

        .dropdown-content a {
        color: #2d2d2d;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        font-size: 0.9rem;
        }

        .dropdown-content a:hover {
        background-color: #f1f1f1;
        color: #6c63ff;
        }

        .dropdown:hover .dropdown-content {
        display: block;
        }

        /* ********************************************** */
        /* STYLES DE FILTRE */
        /* ********************************************** */
        #filter-bar {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: flex-start;
        align-items: center;
        padding: 15px;
        border-radius: 10px;
        background: #f8f9fa;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        flex-grow: 1;
        margin-left: 20px;
        }

        .date-selection-group {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        }

        .filter-group {
        display: flex;
        align-items: center;
        gap: 8px;
        }

        .filter-group label {
        font-weight: 600;
        color: #2d2d2d;
        font-size: 0.95rem;
        white-space: nowrap;
        }

        .filter-select, .filter-input {
        padding: 8px 12px;
        border-radius: 8px;
        border: 1px solid #c7c7c7;
        font-size: 0.95rem;
        transition: border-color 0.2s;
        max-width: 200px;
        }

        .filter-input {
        max-width: 150px;
        }

        .filter-select:focus, .filter-input:focus {
        border-color: #6c63ff;
        outline: none;
        box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.2);
        }

        /* Media Query pour les petits écrans */
        @@media (max-width: 768px) {
        .management-zone {
        flex-direction: column;
        align-items: flex-start;
        }

        #select-button {
        width: 100%;
        }

        #filter-bar, .selection-management-bar {
        margin-left: 0;
        margin-top: 15px;
        width: 100%;
        }

        .filter-group, .date-selection-group {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        }

        .filter-group label {
        width: 100%;
        }

        .filter-select, .filter-input {
        width: 100%;
        max-width: none;
        }
        /* Ajuster la modale pour les petits écrans */
        .nav-btn {
        top: 20%;
        margin-top: 0;
        padding: 10px;
        }

        .nav-btn.right {
        right: 5px;
        }

        .nav-btn.left {
        left: 5px;
        }
        }


        /* Grille responsive pour albums */
        .album-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 25px;
        margin: 30px auto 60px auto;
        max-width: 1200px;
        }

        /* Style global des cartes (albums) */
        .album-card {
        height: 150px;
        border-radius: 15px;
        background: #e9f0ff;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.2rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
        text-align: center;
        padding: 10px;
        color: #2d2d2d;
        position: relative;
        background-repeat: no-repeat;
        }

        /* CORRECTION : Retire le focus/outline du navigateur sur les cartes sélectionnables */
        .selectable-card:focus,
        .selectable-card:active {
        outline: none !important;
        }


        /* Styles pour les cartes avec image */
        .album-card.image-bg {
        color: white;
        padding: 0;
        justify-content: flex-start;
        align-items: flex-start;
        }

        /* Annule l'effet 3D quand la sélection est active */
        .album-card.selection-active:hover {
        transform: none;
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
        }

        .album-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        background: #cbdcff;
        }

        /* ********************************************** */
        /* STYLES DE SÉLECTION VISUELLE */
        /* ********************************************** */

        /* Overlay (Cercle sans bordure) */
        .selection-overlay {
        position: absolute;
        top: 10px;
        left: 10px;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        border: none;
        background: rgba(0, 0, 0, 0.4);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 10;
        transition: all 0.2s;
        }

        /* Montrer l'overlay quand la sélection est active */
        .album-card.selection-active .selection-overlay {
        display: flex;
        opacity: 0.8;
        cursor: pointer;
        }

        /* Cacher le check-icon par défaut */
        .check-icon {
        width: 16px;
        height: 16px;
        display: none;
        filter: none;
        }

        /* État sélectionné */
        .album-card.selected {
        /* Revert à l'ombre de base */
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
        }

        /* Montrer le check-icon seulement si la carte est sélectionnée */
        .album-card.selected .selection-overlay {
        background: #6c63ff;
        border: none;
        opacity: 1;
        }

        .album-card.selected .check-icon {
        display: block;
        }

        /* Masquer l'icône de favori en mode sélection pour éviter la confusion */
        .album-card.selection-active .actions {
        display: none;
        }


        /* Actions - Cœur Favoris */
        .album-card .actions {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        z-index: 5;
        background: none;
        backdrop-filter: none;
        padding: 5px;
        border-radius: 5px;
        }

        .icon {
        width: 20px;
        height: 20px;
        cursor: pointer;
        transition: transform 0.3s ease;
        }

        button img {
        border: none;
        outline: none;
        }

        .icon:hover {
        transform: scale(1.3);
        }

        /* Boutons Favoris / Edit / Delete */
        .favorite-btn, .edit-btn, .delete-btn {
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0;
        }

        /* Carte Ajouter une photo */
        .add-card {
        background: #ffffff !important;
        border: 3px dashed #6c63ff;
        color: #6c63ff;
        }

        .add-card .plus {
        font-size: 3rem;
        font-weight: bold;
        }

        .add-card:hover {
        background: #6c63ff !important;
        color: white !important;
        border-color: transparent;
        }

        /* Separator */
        .section-separator {
        margin: 60px auto;
        width: 60%;
        border: 0;
        border-top: 2px solid #d0d0d0;
        }

